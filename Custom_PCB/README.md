# Hexadec-PDB: 16-Channel Power & CAN Bus Board for a Legged Robot

![Hexadec-PDB Render](images/pcb_render.png)
*A photo or CAD render of your finished PCB will go here. Create an `images` folder in your repository to store it.*

---

## Project Overview

The Hexadec-PDB is a custom-designed, integrated Power Distribution Board (PDB) and Communication hub for a 16-motor, 4-legged dynamic robot. [cite_start]Inspired by the robust electronics seen in high-performance robotics research[cite: 855], this board consolidates all power switching, safety, monitoring, and communication functions onto a single, reliable platform.

The primary goal of this design is to provide a durable and reliable electronic backbone for the robot, capable of handling high currents while providing a clean and simplified interface to the main computer, an NVIDIA Jetson Nano.

## Key Features

* **16x High-Current Motor Channels:** Each channel can deliver up to 25A and is individually controlled, monitored, and protected.
* **Integrated Hot-Swap Control:** Uses the `LM5069` Hot-Swap Controller on each channel for precise control over inrush current, over-current protection, and fault detection.
* **Integrated 4-Channel CAN Bus Interface:** Features four fully isolated CAN bus channels, allowing for high-bandwidth, noise-immune communication with all 16 motors (4 motors per bus).
* **Advanced Power Monitoring:** Three onboard `INA226` ICs provide real-time telemetry for total system power, motor power, and logic power consumption.
* **Robust Safety Features:** Includes a main logic fuse, reverse polarity protection, and freewheeling diodes on every motor channel to protect against inductive kickback.
* **Direct Jetson Nano Interface:** A single 40-pin connector provides a clean interface for all SPI and I2C communication between the PDB and the Jetson Nano.

## Technical Specifications

| Specification | Value | Notes |
| :--- | :--- | :--- |
| **Input Voltage** | 7V - 36V | Suitable for 6S LiPo Battery (22.2V nominal). |
| **Motor Channels** | 16 | Individually switched and monitored. |
| **Max Current per Channel** | 25A | Set by the 5 mΩ current sense resistors. |
| **Total Current Capacity** | >150A | Dependent on PCB layout and thermal management. |
| **Communication Interface** | 4x Isolated CAN bus | Using `MCP2517FD` controllers. |
| **Host Interface** | SPI (for CAN), I2C (for telemetry) | Via 40-pin connector. |
| **Onboard Logic Voltage** | 5V | Generated by a `TSR 1-2450E` buck converter. |
| **Board Dimensions** | `[Your Board's Length]mm x [Width]mm` | TBD. |

## Repository Structure

```
.
├── Hardware/               # KiCad/Altium/Eagle project files (.kicad_pro, .sch, .kicad_pcb)
├── Production/             # Gerber files, BOM.csv, Pick-and-Place files for manufacturing
├── Images/                 # Renders, photos, and diagrams for this README
├── Datasheets/             # PDFs for key components
└── README.md               # You are here
```

## Bill of Materials (BOM)

The complete Bill of Materials is located in the `/Production` folder:
* **[Link to your BOM.csv file]**

Key components used in this design include:

| Component | Part Number | Function |
| :--- | :--- | :--- |
| Hot-Swap Controller | `LM5069` (or equivalent) | Per-channel power management. |
| Power MOSFET | `CSD19536KTT` | High-current switching for each motor. |
| CAN Controller | `MCP2517FD-H/SL` | SPI to CAN translation. |
| Digital Isolator | `ISO7742FTBDWRQ1` | Provides signal and power isolation for CAN bus. |
| Logic Power Supply | `TSR 1-2450E` | Creates the 5V logic rail from battery voltage. |

## PCB Fabrication and Assembly

This is a 4-layer PCB designed for high-current applications. Use the following specifications when ordering from a fabrication house:

* **Layers:** 4
* **Copper Weight:** 2 oz on all layers (recommended)
* **Material:** FR-4
* **Finish:** ENIG (recommended)

**Assembly Notes:**
* [cite_start]Solder the Power MOSFETs such that their thermal pads can be mechanically pressed against the robot's metal chassis for heatsinking, inspired by the MIT paper's design[cite: 1102].
* Use a stencil for applying solder paste, especially for the fine-pitch controller ICs.

## Software and Setup

This board is designed to interface with an NVIDIA Jetson Nano. To enable the four CAN bus channels, the Jetson's device tree must be configured to enable `SPI0` and `SPI1` and load the `mcp251xfd` driver for each of the four CAN controllers.

Once configured, the CAN interfaces will appear as standard SocketCAN devices (e.g., `can0`, `can1`, `can2`, `can3`).

## ⚠️ Safety Warnings ⚠️

> This is a high-power electronics board capable of handling extremely high currents (>150A).
> * **ALWAYS** use the recommended logic fuse.
> * **NEVER** connect the battery with reverse polarity. Double-check all connections before applying power.
> * The Power MOSFETs and current sense resistors can get very hot under load. Ensure proper thermal management and heatsinking is in place before running at high power.
> * Work in a well-ventilated area and use appropriate personal protective equipment (e.g., safety glasses).

## Acknowledgments

* [cite_start]This design was heavily inspired by the actuator and power electronics detailed in the MIT paper **"A Low Cost Modular Actuator for Dynamic Robots"** by Benjamin G. Katz[cite: 855].

## License
* Need to add later
